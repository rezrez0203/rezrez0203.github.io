<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>リンゴタップゲーム</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: #fff0f5;
      height: 100vh;
    }

    #apple {
      position: absolute;
      width: 80px;
      height: auto;
      z-index: 1000;
      transition: transform 0.1s;
      cursor: pointer;
    }

    #score {
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 24px;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.8);
      padding: 10px 20px;
      border-radius: 10px;
      font-family: sans-serif;
      z-index: 2000;
    }
  </style>
</head>
<body>
  <div id="score">得点: 0</div>
  <img id="apple" src="https://upload.wikimedia.org/wikipedia/commons/1/15/Red_Apple.jpg" alt="リンゴ">

  <script>
    const apple = document.getElementById('apple');
    const scoreDisplay = document.getElementById('score');
    let score = 0;

    // リンゴをクリックで得点
    apple.addEventListener('click', () => {
      score += 1;
      scoreDisplay.textContent = `得点: ${score}`;
    });

    let x = 100;
    let y = 100;
    let dx = 2;
    let dy = 1.5;

    function moveApple() {
      const w = apple.offsetWidth;
      const h = apple.offsetHeight;
      const maxX = window.innerWidth - w;
      const maxY = window.innerHeight - h;

      x += dx;
      y += dy;

      if (x <= 0 || x >= maxX) {
        dx *= -1;
      }

      if (y <= 0 || y >= maxY) {
        dy *= -1;
      }

      apple.style.left = x + 'px';
      apple.style.top = y + 'px';

      requestAnimationFrame(moveApple);
    }

    apple.onload = () => {
      apple.style.left = x + 'px';
      apple.style.top = y + 'px';
      moveApple();
    };
  </script>
</body>
</html>